execute store result bossbar minecraft:roundtime value run scoreboard players remove time roundtime 1
execute if score time roundtime matches 0 run function kards:game/ingame/round/take_turns/timeout

scoreboard players set #system roundtimeOper 20
scoreboard players operation time roundtimeOper = time roundtime
scoreboard players operation time roundtimeOper /= #system roundtimeOper

execute if score #system GameRound matches 0 unless score #system RoundCount matches -1 run bossbar set minecraft:roundtime name [{translate: "game.ingame.round.roundtime.1",color:"gold",bold:false},{score:{name:"time",objective:"roundtimeOper"},color:"green"},{translate: "game.ingame.round.roundtime.2",color:"green"},{translate: "game.ingame.round.roundtime.3",color:"gray",bold:false},{translate: "game.ingame.round.roundtime.4",color:"blue",bold:true},{translate: "game.ingame.round.roundtime.3",color:"gray",bold:false},{translate: "game.ingame.round.roundtime.5",color:"gold",bold:false},{score:{name:"回合数",objective:"GameRound"},color:"green"},{translate: "game.ingame.general.2",color:"gray"},{score:{name:"#system",objective:"RoundCount"},color:"gray"}]
execute if score #system GameRound matches 0 unless score #system RoundCount matches -1 run bossbar set minecraft:roundtime name [{translate: "game.ingame.round.roundtime.1",color:"gold",bold:false},{score:{name:"time",objective:"roundtimeOper"},color:"green"},{translate: "game.ingame.round.roundtime.2",color:"green"},{translate: "game.ingame.round.roundtime.3",color:"gray",bold:false},{translate: "game.ingame.round.roundtime.6",color:"red",bold:true},{translate: "game.ingame.round.roundtime.3",color:"gray",bold:false},{translate: "game.ingame.round.roundtime.5",color:"gold",bold:false},{score:{name:"回合数",objective:"GameRound"},color:"green"},{translate: "game.ingame.general.2",color:"gray"},{score:{name:"#system",objective:"RoundCount"},color:"gray"}]

execute if score #system GameRound matches 0 if score #system RoundCount matches -1 run bossbar set minecraft:roundtime name [{translate: "game.ingame.round.roundtime.1",color:"gold",bold:false},{score:{name:"time",objective:"roundtimeOper"},color:"green"},{translate: "game.ingame.round.roundtime.2",color:"green"},{translate: "game.ingame.round.roundtime.3",color:"gray",bold:false},{translate: "game.ingame.round.roundtime.4",color:"blue",bold:true},{translate: "game.ingame.round.roundtime.3",color:"gray",bold:false},{translate: "game.ingame.round.roundtime.5",color:"gold",bold:false},{score:{name:"回合数",objective:"GameRound"},color:"green"},{translate: "game.ingame.round.roundtime.7",color:"gray"}]
execute if score #system GameRound matches 1 if score #system RoundCount matches -1 run bossbar set minecraft:roundtime name [{translate: "game.ingame.round.roundtime.1",color:"gold",bold:false},{score:{name:"time",objective:"roundtimeOper"},color:"green"},{translate: "game.ingame.round.roundtime.2",color:"green"},{translate: "game.ingame.round.roundtime.3",color:"gray",bold:false},{translate: "game.ingame.round.roundtime.6",color:"red",bold:true},{translate: "game.ingame.round.roundtime.3",color:"gray",bold:false},{translate: "game.ingame.round.roundtime.5",color:"gold",bold:false},{score:{name:"回合数",objective:"GameRound"},color:"green"},{translate: "game.ingame.round.roundtime.7",color:"gray"}]
