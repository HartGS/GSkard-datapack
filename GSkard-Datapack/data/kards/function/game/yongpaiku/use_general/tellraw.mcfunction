execute unless entity @s[type=player] run return fail

data remove storage temp kard_info
data modify storage temp kard_info.lore append from entity @s equipment.offhand.components."minecraft:lore".[]
data modify storage temp kard_info.item_name merge from entity @s equipment.offhand.components."minecraft:item_name".extra.[1]

execute if items entity @s weapon.offhand music_disc_mall run tellraw @a [{selector:"@s"},{translate: "json.kards.dialog.jiaocheng.wanfa.1.132", fallback: "使用了",color:"gold",extra:[{translate: "kards.function.tick.2", fallback: "[",color:"blue"},{nbt: "kard_info.item_name", storage: "temp", interpret: true,hover_event:{action:"show_text",value:[{nbt: "kard_info.lore.[]", storage: "temp", interpret: true, separator: "\n"}]}},{translate: "json.kards.dialog.paiku.shenji.youanjianglin.678", fallback: "]",color:"blue"}]}]
execute if items entity @s weapon.offhand music_disc_cat run tellraw @a [{selector:"@s"},{translate: "json.kards.dialog.jiaocheng.wanfa.1.132", fallback: "使用了",color:"gold",extra:[{translate: "kards.function.tick.2", fallback: "[",color:"dark_green"},{nbt: "kard_info.item_name", storage: "temp", interpret: true,hover_event:{action:"show_text",value:[{nbt: "kard_info.lore.[]", storage: "temp", interpret: true, separator: "\n"}]}},{translate: "json.kards.dialog.paiku.shenji.youanjianglin.678", fallback: "]",color:"dark_green"}]}]
execute if items entity @s weapon.offhand music_disc_mellohi run tellraw @a [{selector:"@s"},{translate: "json.kards.dialog.jiaocheng.wanfa.1.132", fallback: "使用了",color:"gold",extra:[{translate: "kards.function.tick.2", fallback: "[",color:"dark_purple"},{nbt: "kard_info.item_name", storage: "temp", interpret: true,hover_event:{action:"show_text",value:[{nbt: "kard_info.lore.[]", storage: "temp", interpret: true, separator: "\n"}]},color:dark_purple},{translate: "json.kards.dialog.paiku.shenji.youanjianglin.678", fallback: "]",color:"dark_purple"}]}]
execute if items entity @s weapon.offhand music_disc_strad run tellraw @a [{selector:"@s"},{translate: "json.kards.dialog.jiaocheng.wanfa.1.132", fallback: "使用了",color:"gold",extra:[{translate: "kards.function.tick.2", fallback: "[",color:"white"},{nbt: "kard_info.item_name", storage: "temp", interpret: true,hover_event:{action:"show_text",value:[{nbt: "kard_info.lore.[]", storage: "temp", interpret: true, separator: "\n"}]}},{translate: "json.kards.dialog.paiku.shenji.youanjianglin.678", fallback: "]",color:"white"}]}]
execute if items entity @s weapon.offhand music_disc_13 run tellraw @a [{selector:"@s"},{translate: "json.kards.dialog.jiaocheng.wanfa.1.132", fallback: "使用了",color:"gold",extra:[{translate: "kards.function.tick.2", fallback: "[",color:"gold"},{nbt: "kard_info.item_name", storage: "temp", interpret: true,hover_event:{action:"show_text",value:[{nbt: "kard_info.lore.[]", storage: "temp", interpret: true, separator: "\n"}]}},{translate: "json.kards.dialog.paiku.shenji.youanjianglin.678", fallback: "]",color:"gold"}]}]
execute if items entity @s weapon.offhand music_disc_stal run tellraw @a [{selector:"@s"},{translate: "json.kards.dialog.jiaocheng.wanfa.1.132", fallback: "使用了",color:"gold",extra:[{translate: "kards.function.tick.2", fallback: "[",color:"dark_gray"},{nbt: "kard_info.item_name", storage: "temp", interpret: true,hover_event:{action:"show_text",value:[{nbt: "kard_info.lore.[]", storage: "temp", interpret: true, separator: "\n"}]}},{translate: "json.kards.dialog.paiku.shenji.youanjianglin.678", fallback: "]",color:"dark_gray"}]}]
execute if items entity @s weapon.offhand music_disc_blocks run tellraw @a [{selector:"@s"},{translate: "json.kards.dialog.jiaocheng.wanfa.1.132", fallback: "使用了",color:"gold",extra:[{translate: "kards.function.tick.2", fallback: "[",color:"red"},{nbt: "kard_info.item_name", storage: "temp", interpret: true,hover_event:{action:"show_text",value:[{nbt: "kard_info.lore.[]", storage: "temp", interpret: true, separator: "\n"}]}},{translate: "json.kards.dialog.paiku.shenji.youanjianglin.678", fallback: "]",color:"red"}]}]

execute if items entity @s[team=red] weapon.offhand music_disc_wait run tellraw @a[team=blue] [{selector:"@s"},{translate: "json.kards.dialog.jiaocheng.wanfa.1.132", fallback: "使用了",color:"gold"},{translate: "kards.function.game.yongpaiku.template.2", fallback: "?????",color:"dark_aqua"}]
execute if items entity @s[team=red] weapon.offhand music_disc_wait run tellraw @a[team=red] [{selector:"@s"},{translate: "json.kards.dialog.jiaocheng.wanfa.1.132", fallback: "使用了",color:"gold",extra:[{translate: "kards.function.tick.2", fallback: "[",color:"dark_aqua"},{nbt: "kard_info.item_name", storage: "temp", interpret: true,hover_event:{action:"show_text",value:[{nbt: "kard_info.lore.[]", storage: "temp", interpret: true, separator: "\n"}]}},{translate: "json.kards.dialog.paiku.shenji.youanjianglin.678", fallback: "]",color:"dark_aqua"}]}]

execute if items entity @s[team=blue] weapon.offhand music_disc_wait run tellraw @a[team=red] [{selector:"@s"},{translate: "json.kards.dialog.jiaocheng.wanfa.1.132", fallback: "使用了",color:"gold"},{translate: "kards.function.game.yongpaiku.template.2", fallback: "?????",color:"dark_aqua"}]
execute if items entity @s[team=blue] weapon.offhand music_disc_wait run tellraw @a[team=blue] [{selector:"@s"},{translate: "json.kards.dialog.jiaocheng.wanfa.1.132", fallback: "使用了",color:"gold",extra:[{translate: "kards.function.tick.2", fallback: "[",color:"dark_aqua"},{nbt: "kard_info.item_name", storage: "temp", interpret: true,hover_event:{action:"show_text",value:[{nbt: "kard_info.lore.[]", storage: "temp", interpret: true, separator: "\n"}]}},{translate: "json.kards.dialog.paiku.shenji.youanjianglin.678", fallback: "]",color:"dark_aqua"}]}]

execute unless items entity @s weapon.offhand #kards:kard run tellraw @a [{selector:"@s"},{translate: "json.kards.dialog.jiaocheng.wanfa.1.132", fallback: "使用了",color:"gold",extra:[{translate: "kards.function.game.player.talent.enable.muyuankuanghuan.2.1", fallback: "<",color:"gray"},{nbt: "kard_info.item_name", storage: "temp", interpret: true,hover_event:{action:"show_text",value:[{nbt: "kard_info.lore.[]", storage: "temp", interpret: true, separator: "\n"}]}},{translate: "kards.function.game.player.talent.enable.muyuankuanghuan.2.4", fallback: ">",color:"gray"}]}]